<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script src="../js/jQuery.js"></script>
	<script>

	// function fnDone() {
	// 	console.log('fnDone');
	// }
	// function fnFail() {
	// 	console.log('fnFail');
	// }
	// function fnProgress() {
	// 	console.log('fnProgress');
	// }

	// var deferred = new jQuery.Deferred();
	
	// var	pipeDeferred = deferred.pipe(fnDone, fnFail, fnProgress);

	// console.log(pipeDeferred);

	// function fn1(data) {
	// 	console.log('fn1', JSON.stringify(data));
	// }
	// function fn2(data) {
	// 	console.log('fn2', JSON.stringify(data));
	// }
	// function fn3(data) {
	// 	console.log('fn3', JSON.stringify(data));
	// }

	// var request = $.ajax(
	// 	'http://192.168.50.224/qianduan/Book/jQuery%E5%86%85%E5%B9%95%E6%8F%AD%E7%A7%98/%E7%AC%AC4%E7%AB%A0%20%E6%B0%91%E6%AD%A5%E9%98%9F%E5%88%97%20Deferred%20Object/data/data1.js', 
	// 	{dataType: 'json'}
	// ).done(fn1);

	// var chained = request.pipe(function (data) {
	// 	return $.ajax(
	// 		'http://192.168.50.224/qianduan/Book/jQuery%E5%86%85%E5%B9%95%E6%8F%AD%E7%A7%98/%E7%AC%AC4%E7%AB%A0%20%E6%B0%91%E6%AD%A5%E9%98%9F%E5%88%97%20Deferred%20Object/data/data2.js', 
	// 		{
	// 			dataType: 'json',
	// 			data: {"id": data.id + "1"}
	// 		}
	// 	).done(fn2);
	// }).done(fn3);

	function fn1(args) {console.log("fn1", args);}
	function fn2(args) {console.log("fn2", args);}

	var defer = jQuery.Deferred();
	var filter = defer.pipe(function (value) {
		return defer;
	});

	defer.done(fn1);
	filter.done(fn2);
	defer.resolve(5);

	// function fn1(data) {console.log('fn1', JSON.stringify(data));}
	// function fn2(data) {console.log('fn2', JSON.stringify(data));}
	// function fn2(data) {console.log('fn3', JSON.stringify(data));}

	// var request = $.ajax('./data/data1.js', {
	// 	dataType: 'json'
	// });

	// var chained = request.pipe(function (data) {
	// 	return $.ajax('./data/data2.js', {
	// 		dataType: 'json',
	// 		data: {"id": data.id}
	// 	}).done(fn2);
	// }).done(fn3);

	</script>
</body>
</html>